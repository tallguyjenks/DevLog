<h1 id="sql-source-control"><a aria-hidden="true" class="anchor-heading icon-link" href="#sql-source-control"></a>Sql Source Control</h1>
<h3 id="getting-started-with-sql-source-control"><a aria-hidden="true" class="anchor-heading icon-link" href="#getting-started-with-sql-source-control"></a>Getting Started with SQL Source Control</h3>
<h4 id="getting-started"><a aria-hidden="true" class="anchor-heading icon-link" href="#getting-started"></a>Getting Started</h4>
<h5 id="linking-a-development-database-to-your-source-control-system"><a aria-hidden="true" class="anchor-heading icon-link" href="#linking-a-development-database-to-your-source-control-system"></a><a href="https://www.red-gate.com/hub/university/courses/sql-source-control/sql-source-control/getting-started/linking-development-database-source-control-system">Linking a development database to your source control system</a></h5>
<ul>
<li>Can link your database to a repository solution
<ul>
<li>Right click on database</li>
<li>link database with source control</li>
<li>link to my source control system</li>
<li>Select your source control <strong>which for ADO? git?</strong>
<ul>
<li>Browse for target folder</li>
<li>Click on it</li>
<li>Add commit Message</li>
<li>OK</li>
<li>select either (See <a href="/DevLog/notes/2ey5t71gyev0bdfxpduqw22#shared-vs-dedicated-development-model">Sql Source Control</a>)
<ul>
<li>dedicated database</li>
<li>shared database</li>
</ul>
</li>
</ul>
</li>
<li>When link is complete the DB icon will turn green</li>
<li>You need to start by committing all your objects</li>
<li>Click on "Commit" in Redgate source control</li>
<li>add commit message</li>
<li>Commit
<ul>
<li>this will export all your objects as create scripts to your source control</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="shared-vs-dedicated-development-model3"><a aria-hidden="true" class="anchor-heading icon-link" href="#shared-vs-dedicated-development-model3"></a>[Shared vs Dedicated development model][3]</h5>
<ul>
<li>Shared is redundant when it comes to "pull changes" because everyone shares the same DB and changes are pushed to the repository</li>
<li>Dedicated is like the standard git model where all devs have their own copy of changes but to actually implement those changes they have to commit the changes to source control
<ul>
<li>and by effect move through the PR processgg</li>
</ul>
</li>
</ul>
<h5 id="alternative-linking-options"><a aria-hidden="true" class="anchor-heading icon-link" href="#alternative-linking-options"></a>[Alternative linking options][]</h5>
<ul>
<li><code>Just let me try it out</code>: Great way to test the tool or show the team</li>
</ul>
<h5 id="linking-static-data-tables"><a aria-hidden="true" class="anchor-heading icon-link" href="#linking-static-data-tables"></a>Linking static data tables</h5>
<ol>
<li>Right click a database in <a href="/DevLog/notes/6qr9lzmzbkr3s4xwqxow04y">Ssms</a></li>
<li><code>Other SQL Source Control tasks</code></li>
<li><code>Link or unlink static data</code></li>
<li><code>save and close</code></li>
<li>Right click a database in <a href="/DevLog/notes/6qr9lzmzbkr3s4xwqxow04y">Ssms</a></li>
<li><code>Commit changes to source control</code></li>
<li>In source control pane you will now see a commit with the data link change type that shows the diff as a bunch of insert statements</li>
<li>Commit message and commit
<ul>
<li>Result is that in your source control repository there is now a <code>Data/</code> directory with a SQL file in it consisting of the insert statements.</li>
</ul>
</li>
</ol>
<ul>
<li><strong>To source control the data on your tables they need a PK</strong></li>
</ul>
<h4 id="working-with-sql-source-control"><a aria-hidden="true" class="anchor-heading icon-link" href="#working-with-sql-source-control"></a>Working with SQL Source Control</h4>
<h5 id="committing-changes"><a aria-hidden="true" class="anchor-heading icon-link" href="#committing-changes"></a>Committing changes</h5>
<ul>
<li>any changes made to DB ojects just
<ul>
<li>Right click a database in <a href="/DevLog/notes/6qr9lzmzbkr3s4xwqxow04y">Ssms</a></li>
<li><code>Commit changes to source control</code></li>
</ul>
</li>
</ul>
<h5 id="sharing-changes-with-a-team-using-sql-source-control"><a aria-hidden="true" class="anchor-heading icon-link" href="#sharing-changes-with-a-team-using-sql-source-control"></a>Sharing changes with a team using SQL Source Control</h5>
<ul>
<li>New database exists</li>
</ul>
<ol>
<li>Right click a database in <a href="/DevLog/notes/6qr9lzmzbkr3s4xwqxow04y">Ssms</a></li>
<li><code>Link this database to source control</code></li>
<li>Instead of committing, <code>get latest</code> to <code>git pull</code> your team's work into your now versioned DB</li>
</ol>
<h5 id="working-with-distributed-version-control-systems"><a aria-hidden="true" class="anchor-heading icon-link" href="#working-with-distributed-version-control-systems"></a>Working with Distributed Version Control Systems</h5>
<ul>
<li>If using git then you need to commit changes to the local repository first (the folder on your local machine)</li>
<li>Then SQL Source Control will tell you that there is a commit in your local repository that can be pushed to the remote repository and give you an easy button to do that.</li>
</ul>
<h5 id="reviewing-the-history"><a aria-hidden="true" class="anchor-heading icon-link" href="#reviewing-the-history"></a>Reviewing the history</h5>
<ul>
<li>Right click on the object in the <a href="/DevLog/notes/177i0t66czpvlw3r8v86wvw">Ssms</a> object explorer</li>
<li><code>View History</code></li>
<li>see the commit history of an object</li>
</ul>
<h5 id="undoing-a-change"><a aria-hidden="true" class="anchor-heading icon-link" href="#undoing-a-change"></a>Undoing a change</h5>
<ol>
<li>Right click a database in <a href="/DevLog/notes/6qr9lzmzbkr3s4xwqxow04y">Ssms</a></li>
<li><code>Other SQL Source Control Tasks</code></li>
<li><code>Undo Changes</code></li>
</ol>
<p>Rolling back changes (undo) on the database to a prior state:</p>
<ol>
<li>Right click a database in <a href="/DevLog/notes/6qr9lzmzbkr3s4xwqxow04y">Ssms</a></li>
<li><code>View History</code></li>
<li>left click on version line item you want to roll back to</li>
<li>At bottom of menu <code>Update your database to the selected version using:</code>
<ul>
<li>Select your compare product to do the comparison</li>
</ul>
</li>
</ol>
<h4 id="advanced-sql-source-control-operations"><a aria-hidden="true" class="anchor-heading icon-link" href="#advanced-sql-source-control-operations"></a>Advanced SQL Source Control operations</h4>
<h5 id="conflict-resolution"><a aria-hidden="true" class="anchor-heading icon-link" href="#conflict-resolution"></a>Conflict resolution</h5>
<h5 id="using-object-locking-with-sql-source-control"><a aria-hidden="true" class="anchor-heading icon-link" href="#using-object-locking-with-sql-source-control"></a>Using object locking with SQL Source Control</h5>
<ul>
<li>For shared database model (think sharepoint item checkout)</li>
</ul>
<h5 id="setting-up-filters"><a aria-hidden="true" class="anchor-heading icon-link" href="#setting-up-filters"></a>Setting up filters</h5>
<ul>
<li>Filter rules are basically a GUI version of a gitignore for ignoring certain types of objects</li>
</ul>
<h5 id="updating-to-a-previous-revision"><a aria-hidden="true" class="anchor-heading icon-link" href="#updating-to-a-previous-revision"></a>Updating to a previous revision</h5>
<h4 id="manual-deployments-with-sql-source-control"><a aria-hidden="true" class="anchor-heading icon-link" href="#manual-deployments-with-sql-source-control"></a>Manual Deployments with SQL Source Control</h4>
<h5 id="deploying-schema-changes-with-sql-compare"><a aria-hidden="true" class="anchor-heading icon-link" href="#deploying-schema-changes-with-sql-compare"></a>Deploying schema changes with SQL Compare</h5>
<h5 id="deploying-data-changes-with-sql-data-compare"><a aria-hidden="true" class="anchor-heading icon-link" href="#deploying-data-changes-with-sql-data-compare"></a>Deploying data changes with SQL Data Compare</h5>
<h5 id="deploying-without-access-to-your-target"><a aria-hidden="true" class="anchor-heading icon-link" href="#deploying-without-access-to-your-target"></a>Deploying without access to your target</h5>