<h1 id="write-clean-python-code-using-pipes"><a aria-hidden="true" class="anchor-heading icon-link" href="#write-clean-python-code-using-pipes"></a>Write Clean Python Code Using Pipes</h1>
<ul>
<li><code>Author:</code> khuyen-tran</li>
<li><code>Link:</code> <a href="https://towardsdatascience.com/write-clean-python-code-using-pipes-1239a0f3abf5">https://towardsdatascience.com/write-clean-python-code-using-pipes-1239a0f3abf5</a></li>
<li><code>Reference:</code> <a href="/DevLog/notes/revsl0hsui1dk3s64u80rhm">Pipe</a></li>
<li><code>Publish Date:</code> 2021-10-27</li>
<li><code>Reviewed Date:</code> <a href="/DevLog/notes/klca6zndho9d9256p0m1n2p">05</a></li>
</ul>
<hr>
<pre class="language-python"><code class="language-python">arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># >>> [4, 8]</span>
</code></pre>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> pipe <span class="token keyword">import</span> where<span class="token punctuation">,</span> select
arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token builtin">list</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>
	 <span class="token operator">|</span> where<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span>
	 <span class="token operator">|</span> select<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># >>> [4, 8]</span>
</code></pre>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> pipe <span class="token keyword">import</span> where
arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token builtin">list</span><span class="token punctuation">(</span>arr <span class="token operator">|</span> where<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># >>> [2, 4]</span>
</code></pre>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> pipe <span class="token keyword">import</span> where<span class="token punctuation">,</span> select
arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token builtin">list</span><span class="token punctuation">(</span>arr <span class="token operator">|</span> select<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># >>> [2, 4, 6. 8, 10]</span>
</code></pre>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> pipe <span class="token keyword">import</span> chain
nested <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token builtin">list</span><span class="token punctuation">(</span>nested <span class="token operator">|</span> chain<span class="token punctuation">)</span>
<span class="token comment"># >>> [1, 2, [3], 4, 5]</span>
<span class="token comment"># OR FOR DEEPLY NESTED:</span>
<span class="token keyword">from</span> pipe <span class="token keyword">import</span> traverse
nested <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token builtin">list</span><span class="token punctuation">(</span>nested <span class="token operator">|</span> traverse<span class="token punctuation">)</span>
<span class="token comment"># >>> [1, 2, 3, 4, 5]</span>
</code></pre>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> pipe <span class="token keyword">import</span> traverse<span class="token punctuation">,</span> select
fruits <span class="token operator">=</span> <span class="token punctuation">[</span>
	<span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token string">"price"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"orange"</span><span class="token punctuation">,</span> <span class="token string">"price"</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"grape"</span><span class="token punctuation">,</span> <span class="token string">"price"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token builtin">list</span><span class="token punctuation">(</span>fruits
	 <span class="token operator">|</span> select<span class="token punctuation">(</span><span class="token keyword">lambda</span> fruit<span class="token punctuation">:</span> fruit<span class="token punctuation">[</span><span class="token string">"price"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	 <span class="token operator">|</span> traverse<span class="token punctuation">)</span>
</code></pre>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> pipe <span class="token keyword">import</span> groupby<span class="token punctuation">,</span> select 
<span class="token builtin">list</span><span class="token punctuation">(</span> 
	<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
	<span class="token operator">|</span> groupby<span class="token punctuation">(</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token string">"Even"</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token string">"Odd"</span><span class="token punctuation">)</span> 
	<span class="token operator">|</span> select<span class="token punctuation">(</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">{</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token comment"># >>> [{'Even': [2, 4, 6 ,8]}, {"Odd": [1, 3, 5, 7, 9]}]</span>
</code></pre>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> pipe <span class="token keyword">import</span> groupby<span class="token punctuation">,</span> select 
<span class="token builtin">list</span><span class="token punctuation">(</span> 
	<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
	<span class="token operator">|</span> groupby<span class="token punctuation">(</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token string">"Even"</span> <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token string">"Odd"</span><span class="token punctuation">)</span> 
	<span class="token operator">|</span> select<span class="token punctuation">(</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">{</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">|</span> where<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token comment"># >>> [{'Even': [4, 6 ,8]}, {"Odd": [3, 5, 7, 9]}]</span>
</code></pre>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/DevLog/notes/klca6zndho9d9256p0m1n2p">05 (DevLog)</a></li>
<li><a href="/DevLog/notes/revsl0hsui1dk3s64u80rhm">Pipe (DevLog)</a></li>
</ul>