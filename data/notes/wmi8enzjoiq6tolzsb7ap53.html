<h1 id="reduce-code-and-save-time-with-default-column-values"><a aria-hidden="true" class="anchor-heading icon-link" href="#reduce-code-and-save-time-with-default-column-values"></a>Reduce Code and save Time with Default Column Values</h1>
<blockquote>
<p>If you have a column that represents the datetime of when a record was loaded, there is no reason for you to write CURRENT_TIMESTAMP over and over when you insert data into that table.
Instead, when you create the table, specify that columnâ€™s default value of GETDATE. You can do it programmatically or in the table designer.
Below is an example of a data warehouse staging table template containing a primary key and standard audit columns. As you can see, each audit column has been assigned a default value there by reducing your insert statement by six lines.
Considering you will be writing thousands of procs over your career, the time saved from not having to write six lines is significant.</p>
<p>-- <a href="https://tutorials.massstreet.net/v/transact-sql/solutions-to-real-world-problems/lesson-51.-reduce-code-and-save-time-with-default-column-values">https://tutorials.massstreet.net/v/transact-sql/solutions-to-real-world-problems/lesson-51.-reduce-code-and-save-time-with-default-column-values</a></p>
</blockquote>
<pre class="language-sql"><code class="language-sql"><span class="token keyword">USE</span> demo

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> YourSchemaName<span class="token punctuation">.</span>YourStageTableName<span class="token punctuation">(</span>
<span class="token punctuation">[</span>ETLKey<span class="token punctuation">]</span> <span class="token punctuation">[</span>uniqueidentifier<span class="token punctuation">]</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span>UniqueDims<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">varbinary</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">35</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span>UniqueRows<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">varbinary</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span>SourceSystem<span class="token punctuation">]</span> <span class="token punctuation">[</span>nvarchar<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span>Cleansed<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">bit</span><span class="token punctuation">]</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span>ErrorRecord<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">bit</span><span class="token punctuation">]</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span>ErrorReason<span class="token punctuation">]</span> <span class="token punctuation">[</span>nvarchar<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span>Processed<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">bit</span><span class="token punctuation">]</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
<span class="token punctuation">[</span>RunDate<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">datetime</span><span class="token punctuation">]</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
 <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">[</span>PK_YourStageTableName<span class="token punctuation">]</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">CLUSTERED</span> 
<span class="token punctuation">(</span>
       <span class="token punctuation">[</span>ETLKey<span class="token punctuation">]</span> <span class="token keyword">ASC</span>
<span class="token punctuation">)</span> <span class="token keyword">WITH</span> <span class="token punctuation">(</span>PAD_INDEX <span class="token operator">=</span> <span class="token keyword">OFF</span><span class="token punctuation">,</span> STATISTICS_NORECOMPUTE <span class="token operator">=</span> <span class="token keyword">OFF</span><span class="token punctuation">,</span> IGNORE_DUP_KEY <span class="token operator">=</span> <span class="token keyword">OFF</span><span class="token punctuation">,</span> ALLOW_ROW_LOCKS <span class="token operator">=</span> <span class="token keyword">ON</span><span class="token punctuation">,</span> ALLOW_PAGE_LOCKS <span class="token operator">=</span> <span class="token keyword">ON</span><span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token punctuation">[</span><span class="token keyword">PRIMARY</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token punctuation">[</span><span class="token keyword">PRIMARY</span><span class="token punctuation">]</span>

GO

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span>YourSchemaName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>YourStageTableName<span class="token punctuation">]</span> <span class="token keyword">ADD</span>  <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">[</span>DF_YourStageTableName_ETLKey<span class="token punctuation">]</span>  <span class="token keyword">DEFAULT</span> <span class="token punctuation">(</span>newid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FOR</span> <span class="token punctuation">[</span>ETLKey<span class="token punctuation">]</span>
GO
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span>YourSchemaName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>YourStageTableName<span class="token punctuation">]</span> <span class="token keyword">ADD</span>  <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">[</span>DF_YourStageTableName_SourceSystem<span class="token punctuation">]</span>  <span class="token keyword">DEFAULT</span> <span class="token punctuation">(</span>N<span class="token string">'Copia'</span><span class="token punctuation">)</span> <span class="token keyword">FOR</span> <span class="token punctuation">[</span>SourceSystem<span class="token punctuation">]</span>
GO
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span>YourSchemaName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>YourStageTableName<span class="token punctuation">]</span> <span class="token keyword">ADD</span>  <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">[</span>DF_YourStageTableName_Cleansed<span class="token punctuation">]</span>  <span class="token keyword">DEFAULT</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FOR</span> <span class="token punctuation">[</span>Cleansed<span class="token punctuation">]</span>
GO
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span>YourSchemaName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>YourStageTableName<span class="token punctuation">]</span> <span class="token keyword">ADD</span>  <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">[</span>DF_YourStageTableName_ErrorRecord<span class="token punctuation">]</span>  <span class="token keyword">DEFAULT</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FOR</span> <span class="token punctuation">[</span>ErrorRecord<span class="token punctuation">]</span>
GO
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span>YourSchemaName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>YourStageTableName<span class="token punctuation">]</span> <span class="token keyword">ADD</span>  <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">[</span>DF_YourStageTableName_Processed<span class="token punctuation">]</span>  <span class="token keyword">DEFAULT</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FOR</span> <span class="token punctuation">[</span>Processed<span class="token punctuation">]</span>
GO
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span>YourSchemaName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>YourStageTableName<span class="token punctuation">]</span> <span class="token keyword">ADD</span>  <span class="token keyword">CONSTRAINT</span> <span class="token punctuation">[</span>DF_YourStageTableName_RunDate<span class="token punctuation">]</span>  <span class="token keyword">DEFAULT</span> <span class="token punctuation">(</span>getdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">FOR</span> <span class="token punctuation">[</span>RunDate<span class="token punctuation">]</span>
GO
</code></pre>