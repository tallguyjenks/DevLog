<h1 id="5-modern-bash-scripting-techniques-that-only-a-few-programmers-know"><a aria-hidden="true" class="anchor-heading icon-link" href="#5-modern-bash-scripting-techniques-that-only-a-few-programmers-know"></a>5 Modern Bash Scripting Techniques That Only a Few Programmers Know</h1>
<p></p><p></p><div class="portal-container">
<div class="portal-head">
<div class="portal-backlink">
<div class="portal-title">From <span class="portal-text-title">Create Loading Animations</span></div>
<a href="/DevLog/notes/i5100zsp2n6qkafmwk04on1" class="portal-arrow">Go to text <span class="right-arrow">→</span></a>
</div>
</div>
<div id="portal-parent-anchor" class="portal-parent" markdown="1">
<div class="portal-parent-fader-top"></div>
<div class="portal-parent-fader-bottom"></div><pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">do</span>
    <span class="token comment"># Frame #1</span>
    <span class="token builtin class-name">printf</span> <span class="token string">"<span class="token entity" title="\r">\r</span>&#x3C; Loading..."</span> 
    <span class="token function">sleep</span> <span class="token number">0.5</span>
    <span class="token comment"># Frame #2 </span>
    <span class="token builtin class-name">printf</span> <span class="token string">"<span class="token entity" title="\r">\r</span>> Loading..."</span> 
    <span class="token function">sleep</span> <span class="token number">0.5</span> 
<span class="token keyword">done</span>
</code></pre>
<p>or</p>
<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token function">sleep</span> <span class="token number">5</span> <span class="token operator">&#x26;</span>
<span class="token assign-left variable">pid</span><span class="token operator">=</span><span class="token variable">$!</span>
<span class="token assign-left variable">frames</span><span class="token operator">=</span><span class="token string">"/ | <span class="token entity" title="\\">\\</span> -"</span>
<span class="token keyword">while</span> <span class="token function">kill</span> -0 <span class="token variable">$pid</span> <span class="token number">2</span><span class="token operator">&#x26;></span><span class="token number">1</span> <span class="token operator">></span> /dev/null<span class="token punctuation">;</span>
<span class="token keyword">do</span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">frame</span> <span class="token keyword">in</span> <span class="token variable">$frames</span><span class="token punctuation">;</span>
    <span class="token keyword">do</span>
        <span class="token builtin class-name">printf</span> <span class="token string">"<span class="token entity" title="\r">\r</span><span class="token variable">$frame</span> Loading..."</span> 
        <span class="token function">sleep</span> <span class="token number">0.5</span>
    <span class="token keyword">done</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">printf</span> <span class="token string">"<span class="token entity" title="\n">\n</span>"</span>
</code></pre></div></div><p></p>
<p></p><div class="portal-container">
<div class="portal-head">
<div class="portal-backlink">
<div class="portal-title">From <span class="portal-text-title">Displaying Native Gui Notifications from Bash</span></div>
<a href="/DevLog/notes/bv0x156h0li6iiiy10guwcp" class="portal-arrow">Go to text <span class="right-arrow">→</span></a>
</div>
</div>
<div id="portal-parent-anchor" class="portal-parent" markdown="1">
<div class="portal-parent-fader-top"></div>
<div class="portal-parent-fader-bottom"></div><h2 id="linux"><a aria-hidden="true" class="anchor-heading icon-link" href="#linux"></a>Linux</h2>
<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token function">sleep</span> <span class="token number">10</span>
<span class="token function">notify-send</span> <span class="token string">"notify.sh"</span> <span class="token string">"Task #1 was completed successfully"</span>
</code></pre>
<p>OSX</p>
<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token function">sleep</span> <span class="token number">10</span>
osascript -e <span class="token string">"display notification <span class="token entity" title="\&#x22;">\"</span>Task #1 was completed successfully<span class="token entity" title="\&#x22;">\"</span> with title <span class="token entity" title="\&#x22;">\"</span>notify.sh<span class="token entity" title="\&#x22;">\"</span>"</span>
</code></pre></div></div><p></p>
<p></p><div class="portal-container">
<div class="portal-head">
<div class="portal-backlink">
<div class="portal-title">From <span class="portal-text-title">Multiprocessing in Bash Scripts</span></div>
<a href="/DevLog/notes/hm181qra1we28l5hxjr44lh" class="portal-arrow">Go to text <span class="right-arrow">→</span></a>
</div>
</div>
<div id="portal-parent-anchor" class="portal-parent" markdown="1">
<div class="portal-parent-fader-top"></div>
<div class="portal-parent-fader-bottom"></div><pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">function</span> <span class="token function-name function">task1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"Running task1..."</span>
    <span class="token function">sleep</span> <span class="token number">5</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function-name function">task2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"Running task2..."</span>
    <span class="token function">sleep</span> <span class="token number">5</span>
<span class="token punctuation">}</span>
task1 <span class="token operator">&#x26;</span>
task2 <span class="token operator">&#x26;</span>
<span class="token function">wait</span>
<span class="token builtin class-name">echo</span> <span class="token string">"All done!"</span>
</code></pre>
<p>the <code>wait</code> builtin makes sure that all background processes have completed before carrying on</p></div></div><p></p><p></p>