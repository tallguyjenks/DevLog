<h1 id="setting-up-alerts-for-all-sql-server-agent-jobs"><a aria-hidden="true" class="anchor-heading icon-link" href="#setting-up-alerts-for-all-sql-server-agent-jobs"></a>Setting up Alerts for All Sql Server Agent Jobs</h1>
<p><a href="https://www.mssqltips.com/sqlservertip/1091/setting-up-alerts-for-all-sql-server-agent-jobs/">https://www.mssqltips.com/sqlservertip/1091/setting-up-alerts-for-all-sql-server-agent-jobs/</a></p>
<p></p><p></p><div class="portal-container">
<div class="portal-head">
<div class="portal-backlink">
<div class="portal-title">From <span class="portal-text-title">Setting up Alerts for All Sql Server Agent Jobs</span></div>
<a href="/DevLog/notes/d0pznqtzyrvkde7xz2huzb3" class="portal-arrow">Go to text <span class="right-arrow">â†’</span></a>
</div>
</div>
<div id="portal-parent-anchor" class="portal-parent" markdown="1">
<div class="portal-parent-fader-top"></div>
<div class="portal-parent-fader-bottom"></div><blockquote>
<p>Here is a sample T-SQL script that will create the commands for you. This script actually outputs the commands that can then be copied and pasted into a query windows and executed to make the updates. The script could also be changed to automatically issue the commands, but with this version you have the ability to review the commands before you execute them.</p>
<p>-- <a href="https://www.mssqltips.com/sqlservertip/1091/setting-up-alerts-for-all-sql-server-agent-jobs/">https://www.mssqltips.com/sqlservertip/1091/setting-up-alerts-for-all-sql-server-agent-jobs/</a></p>
</blockquote>
<pre class="language-sql"><code class="language-sql"><span class="token keyword">USE</span> msdb
GO

<span class="token keyword">DECLARE</span> <span class="token variable">@operator</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
<span class="token keyword">SET</span> <span class="token variable">@operator</span> <span class="token operator">=</span> <span class="token string">'SQLalerts'</span>

<span class="token keyword">SELECT</span> <span class="token string">'EXEC msdb.dbo.sp_update_job @job_ID = '''</span> <span class="token operator">+</span> <span class="token keyword">convert</span><span class="token punctuation">(</span><span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>job_id<span class="token punctuation">)</span>
        <span class="token operator">+</span> <span class="token string">''' ,@notify_level_email = 2, @notify_email_operator_name = '''</span> <span class="token operator">+</span> <span class="token variable">@operator</span> <span class="token operator">+</span> <span class="token string">''''</span>
<span class="token keyword">FROM</span> sysjobs
</code></pre>
<p>When this gets run the following output is created:</p>
<pre class="language-sql"><code class="language-sql"><span class="token keyword">EXEC</span> msdb<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sp_update_job <span class="token variable">@job_ID</span> <span class="token operator">=</span> <span class="token string">'589D2B60-EDBD-45B5-BDE6-4DD974D20D25'</span> <span class="token punctuation">,</span><span class="token variable">@notify_level_email</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token variable">@notify_email_operator_name</span> <span class="token operator">=</span> <span class="token string">'SQLalerts'</span>
<span class="token keyword">EXEC</span> msdb<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sp_update_job <span class="token variable">@job_ID</span> <span class="token operator">=</span> <span class="token string">'6BE4306C-CC37-4D38-BC27-1B099601EF6A'</span> <span class="token punctuation">,</span><span class="token variable">@notify_level_email</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token variable">@notify_email_operator_name</span> <span class="token operator">=</span> <span class="token string">'SQLalerts'</span>
<span class="token keyword">EXEC</span> msdb<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sp_update_job <span class="token variable">@job_ID</span> <span class="token operator">=</span> <span class="token string">'F7569D9A-641E-4130-90F4-535F0B11FC1E'</span> <span class="token punctuation">,</span><span class="token variable">@notify_level_email</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token variable">@notify_email_operator_name</span> <span class="token operator">=</span> <span class="token string">'SQLalerts'</span>
<span class="token keyword">EXEC</span> msdb<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sp_update_job <span class="token variable">@job_ID</span> <span class="token operator">=</span> <span class="token string">'CD012AF2-BC96-4D9E-A03E-6ABB2F6048AF'</span> <span class="token punctuation">,</span><span class="token variable">@notify_level_email</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token variable">@notify_email_operator_name</span> <span class="token operator">=</span> <span class="token string">'SQLalerts'</span>
<span class="token keyword">EXEC</span> msdb<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sp_update_job <span class="token variable">@job_ID</span> <span class="token operator">=</span> <span class="token string">'451C94B4-8BA3-48AA-BB66-D184F0C25556'</span> <span class="token punctuation">,</span><span class="token variable">@notify_level_email</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token variable">@notify_email_operator_name</span> <span class="token operator">=</span> <span class="token string">'SQLalerts'</span>
<span class="token keyword">EXEC</span> msdb<span class="token punctuation">.</span>dbo<span class="token punctuation">.</span>sp_update_job <span class="token variable">@job_ID</span> <span class="token operator">=</span> <span class="token string">'7EA95731-1E19-40F6-A5E3-325647DACDE9'</span> <span class="token punctuation">,</span><span class="token variable">@notify_level_email</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token variable">@notify_email_operator_name</span> <span class="token operator">=</span> <span class="token string">'SQLalerts'</span>
</code></pre>
<p><img src="/DevLog/assets/images/2022-03-03-13-46-46.png" alt="notify level"></p></div></div><p></p><p></p>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/DevLog/notes/09s1m81lxifmup1so6qi7u6">2022-03-03 (DevLog)</a></li>
</ul>