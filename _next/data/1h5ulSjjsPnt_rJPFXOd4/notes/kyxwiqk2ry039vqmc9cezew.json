{"pageProps":{"note":{"id":"kyxwiqk2ry039vqmc9cezew","title":"Datawarehouse Calendar Table","desc":"","updated":1641414539870,"created":1641105063933,"stub":false,"isDir":false,"custom":{"stub":false,"isDir":false},"fname":"s.q.tsql.tips-tricks.datawarehouse-calendar-table","type":"note","vault":{"fsPath":"DevLog"},"contentHash":"70455ebee63c022bc78589ec203a08f9","links":[],"anchors":{"date-dimension-table":{"type":"header","text":"Date Dimension Table","value":"date-dimension-table","line":11,"column":0,"depth":2}},"children":[],"parent":"8zi5l8v14vld0duayretzxl","data":{}},"body":"<h1 id=\"datawarehouse-calendar-table\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#datawarehouse-calendar-table\"></a>Datawarehouse Calendar Table</h1>\n<h2 id=\"date-dimension-table\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#date-dimension-table\"></a>Date Dimension Table</h2>\n<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">/**************************************************************************************************************************\\\n|===========================================================================================================================|\n|                                                                                                                           |\n|                                                                                                                           |\n| Reference Article: https://www.mssqltips.com/sqlservertip/4054/creating-a-date-dimension-or-calendar-table-in-sql-server/ |\n|                                                                                                                           |\n|                                                                                                                           |\n|===========================================================================================================================|\n***************************************************************************************************************************/</span>\n\n<span class=\"token comment\">-- FIXME Change all instances of `Ticketer` to the database chosen to house these DBO's</span>\n<span class=\"token keyword\">USE</span> Ticketer\n\n<span class=\"token keyword\">IF</span> OBJECT_ID<span class=\"token punctuation\">(</span><span class=\"token string\">'Ticketer.dbo.HolidayDimension'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> HolidayDimension\n<span class=\"token keyword\">IF</span> OBJECT_ID<span class=\"token punctuation\">(</span><span class=\"token string\">'Ticketer.dbo.DateDimension'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> DateDimension\n<span class=\"token keyword\">IF</span> OBJECT_ID<span class=\"token punctuation\">(</span><span class=\"token string\">'Ticketer.dbo.TheCalendar'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DROP</span> <span class=\"token keyword\">VIEW</span> TheCalendar\n\n<span class=\"token comment\">-- prevent set or regional settings from interfering with</span>\n<span class=\"token comment\">-- interpretation of dates / literals</span>\n<span class=\"token keyword\">SET</span> DATEFIRST  <span class=\"token number\">7</span> <span class=\"token comment\">-- 1 = Monday, 7 = Sunday</span>\n    <span class=\"token punctuation\">,</span> DATEFORMAT mdy\n    <span class=\"token punctuation\">,</span> <span class=\"token keyword\">LANGUAGE</span>   US_ENGLISH<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- Start and End points</span>\n<span class=\"token keyword\">DECLARE</span> <span class=\"token variable\">@StartDate</span>  <span class=\"token keyword\">DATE</span> <span class=\"token operator\">=</span> <span class=\"token string\">'20100101'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">DECLARE</span> <span class=\"token variable\">@CutoffDate</span> <span class=\"token keyword\">DATE</span> <span class=\"token operator\">=</span> DATEADD<span class=\"token punctuation\">(</span><span class=\"token keyword\">DAY</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> DATEADD<span class=\"token punctuation\">(</span><span class=\"token keyword\">YEAR</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@StartDate</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- First CTE generating the list of numbers from the Start and End points</span>\n<span class=\"token punctuation\">;</span><span class=\"token keyword\">WITH</span> seq<span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">SELECT</span> <span class=\"token number\">0</span> <span class=\"token keyword\">UNION</span> <span class=\"token keyword\">ALL</span> <span class=\"token keyword\">SELECT</span> n <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token keyword\">FROM</span> seq\n\t<span class=\"token keyword\">WHERE</span> n <span class=\"token operator\">&#x3C;</span> DATEDIFF<span class=\"token punctuation\">(</span><span class=\"token keyword\">DAY</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@StartDate</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@CutoffDate</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\nd<span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span> <span class=\"token comment\">-- Second CTE generating an ISO 8601 Date from the numbers</span>\n\t<span class=\"token keyword\">SELECT</span> DATEADD<span class=\"token punctuation\">(</span><span class=\"token keyword\">DAY</span><span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">,</span> <span class=\"token variable\">@StartDate</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> seq\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\nsrc <span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span> <span class=\"token comment\">-- Third CTE taking the generated dates and parsing them into the pertinent information</span>\n\t<span class=\"token keyword\">SELECT</span>\n\t\t  TheDate         <span class=\"token operator\">=</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">DATE</span><span class=\"token punctuation\">,</span>\t\td<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheDay          <span class=\"token operator\">=</span> DATEPART<span class=\"token punctuation\">(</span><span class=\"token keyword\">DAY</span><span class=\"token punctuation\">,</span>       d<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheDayName      <span class=\"token operator\">=</span> DATENAME<span class=\"token punctuation\">(</span>WEEKDAY<span class=\"token punctuation\">,</span>   d<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheWeek         <span class=\"token operator\">=</span> DATEPART<span class=\"token punctuation\">(</span>WEEK<span class=\"token punctuation\">,</span>      d<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheISOWeek      <span class=\"token operator\">=</span> DATEPART<span class=\"token punctuation\">(</span>ISO_WEEK<span class=\"token punctuation\">,</span>  d<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheDayOfWeek    <span class=\"token operator\">=</span> DATEPART<span class=\"token punctuation\">(</span>WEEKDAY<span class=\"token punctuation\">,</span>   d<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheMonth        <span class=\"token operator\">=</span> DATEPART<span class=\"token punctuation\">(</span><span class=\"token keyword\">MONTH</span><span class=\"token punctuation\">,</span>     d<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheMonthName    <span class=\"token operator\">=</span> DATENAME<span class=\"token punctuation\">(</span><span class=\"token keyword\">MONTH</span><span class=\"token punctuation\">,</span>     d<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheQuarter      <span class=\"token operator\">=</span> DATEPART<span class=\"token punctuation\">(</span>Quarter<span class=\"token punctuation\">,</span>   d<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheYear         <span class=\"token operator\">=</span> DATEPART<span class=\"token punctuation\">(</span><span class=\"token keyword\">YEAR</span><span class=\"token punctuation\">,</span>      d<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheFirstOfMonth <span class=\"token operator\">=</span> DATEFROMPARTS<span class=\"token punctuation\">(</span><span class=\"token keyword\">YEAR</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">MONTH</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheLastOfYear   <span class=\"token operator\">=</span> DATEFROMPARTS<span class=\"token punctuation\">(</span><span class=\"token keyword\">YEAR</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheDayOfYear    <span class=\"token operator\">=</span> DATEPART<span class=\"token punctuation\">(</span>DAYOFYEAR<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">FROM</span> d\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\ndim <span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span> <span class=\"token comment\">-- Fourth CTE adding additional information of value</span>\n\t<span class=\"token keyword\">SELECT</span>\n\t\t  TheDate\n\t\t<span class=\"token punctuation\">,</span> TheDay\n\t\t<span class=\"token punctuation\">,</span> TheDaySuffix       <span class=\"token operator\">=</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">CASE</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">WHEN</span> TheDay <span class=\"token operator\">/</span> <span class=\"token number\">10</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'th'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">ELSE</span> \n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">CASE</span> <span class=\"token keyword\">RIGHT</span><span class=\"token punctuation\">(</span>TheDay<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token string\">'1'</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'st'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token string\">'2'</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'nd'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token string\">'3'</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'rd'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">ELSE</span> <span class=\"token string\">'th'</span> <span class=\"token keyword\">END</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">END</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheDayName\n\t\t<span class=\"token punctuation\">,</span> TheDayOfWeek\n\t\t<span class=\"token punctuation\">,</span> TheDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">TINYINT</span><span class=\"token punctuation\">,</span> ROW_NUMBER<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">PARTITION</span> <span class=\"token keyword\">BY</span> TheFirstOfMonth<span class=\"token punctuation\">,</span> TheDayOfWeek <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> TheDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheDayOfYear\n\t\t<span class=\"token punctuation\">,</span> IsWeekend           <span class=\"token operator\">=</span> <span class=\"token keyword\">CASE</span> <span class=\"token keyword\">WHEN</span> TheDayOfWeek <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span>\n\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">CASE</span> @<span class=\"token variable\">@DATEFIRST</span>\n\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token number\">1</span> <span class=\"token keyword\">THEN</span> <span class=\"token number\">6</span>\n\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token number\">7</span> <span class=\"token keyword\">THEN</span> <span class=\"token number\">1</span>\n\t\t\t\t\t\t\t\t\t<span class=\"token keyword\">END</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span>\n\t\t\t\t\t\t\t\t<span class=\"token punctuation\">)</span> \n\t\t\t\t\t\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token number\">1</span> <span class=\"token keyword\">ELSE</span> <span class=\"token number\">0</span> <span class=\"token keyword\">END</span>\n\t\t<span class=\"token punctuation\">,</span> TheWeek\n\t\t<span class=\"token punctuation\">,</span> TheISOweek\n\t\t<span class=\"token punctuation\">,</span> TheFirstOfWeek      <span class=\"token operator\">=</span> DATEADD<span class=\"token punctuation\">(</span><span class=\"token keyword\">DAY</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token operator\">-</span> TheDayOfWeek<span class=\"token punctuation\">,</span> TheDate<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheLastOfWeek       <span class=\"token operator\">=</span> DATEADD<span class=\"token punctuation\">(</span><span class=\"token keyword\">DAY</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> DATEADD<span class=\"token punctuation\">(</span><span class=\"token keyword\">DAY</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span> <span class=\"token operator\">-</span> TheDayOfWeek<span class=\"token punctuation\">,</span> TheDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheWeekOfMonth      <span class=\"token operator\">=</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">TINYINT</span><span class=\"token punctuation\">,</span> DENSE_RANK<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">PARTITION</span> <span class=\"token keyword\">BY</span> TheYear<span class=\"token punctuation\">,</span> TheMonth <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> TheWeek<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheMonth\n\t\t<span class=\"token punctuation\">,</span> TheMonthName\n\t\t<span class=\"token punctuation\">,</span> TheFirstOfMonth\n\t\t<span class=\"token punctuation\">,</span> TheLastOfMonth      <span class=\"token operator\">=</span> <span class=\"token function\">MAX</span><span class=\"token punctuation\">(</span>TheDate<span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">PARTITION</span> <span class=\"token keyword\">BY</span> TheYear<span class=\"token punctuation\">,</span> TheMonth<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheFirstOfNextMonth <span class=\"token operator\">=</span> DATEADD<span class=\"token punctuation\">(</span><span class=\"token keyword\">MONTH</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> TheFirstOfMonth<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheLastOfNextMonth  <span class=\"token operator\">=</span> DATEADD<span class=\"token punctuation\">(</span><span class=\"token keyword\">DAY</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> DATEADD<span class=\"token punctuation\">(</span><span class=\"token keyword\">MONTH</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> TheFirstOfMonth<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheQuarter\n\t\t<span class=\"token punctuation\">,</span> TheFirstOfQuarter   <span class=\"token operator\">=</span> <span class=\"token function\">MIN</span><span class=\"token punctuation\">(</span>TheDate<span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">PARTITION</span> <span class=\"token keyword\">BY</span> TheYear<span class=\"token punctuation\">,</span> TheQuarter<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheLastOfQuarter    <span class=\"token operator\">=</span> <span class=\"token function\">MAX</span><span class=\"token punctuation\">(</span>TheDate<span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">PARTITION</span> <span class=\"token keyword\">BY</span> TheYear<span class=\"token punctuation\">,</span> TheQuarter<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheYear\n\t\t<span class=\"token punctuation\">,</span> TheISOYear          <span class=\"token operator\">=</span> TheYear <span class=\"token operator\">-</span> <span class=\"token keyword\">CASE</span> <span class=\"token keyword\">WHEN</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">AND</span> TheISOWeek <span class=\"token operator\">></span> <span class=\"token number\">51</span> <span class=\"token keyword\">THEN</span> <span class=\"token number\">1</span>\n\t\t\t\t\t\t\t\t\t\t\t   <span class=\"token keyword\">WHEN</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">12</span> <span class=\"token operator\">AND</span> TheISOWeek <span class=\"token operator\">=</span> <span class=\"token number\">1</span>  <span class=\"token keyword\">THEN</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n\t\t\t\t\t\t\t\t\t\t\t   <span class=\"token keyword\">ELSE</span> <span class=\"token number\">0</span> <span class=\"token keyword\">END</span>\n\t\t<span class=\"token punctuation\">,</span> TheFirstOfYear      <span class=\"token operator\">=</span> DATEFROMPARTS<span class=\"token punctuation\">(</span>TheYear<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>  <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> TheLastOfYear\n\t\t<span class=\"token punctuation\">,</span> IsLeapYear          <span class=\"token operator\">=</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">BIT</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">CASE</span> <span class=\"token keyword\">WHEN</span> TheYear <span class=\"token operator\">%</span> <span class=\"token number\">400</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TheYear <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token operator\">AND</span> TheYear <span class=\"token operator\">%</span> <span class=\"token number\">100</span> <span class=\"token operator\">&#x3C;></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token number\">1</span> <span class=\"token keyword\">ELSE</span> <span class=\"token number\">0</span> <span class=\"token keyword\">END</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> Has53Weeks          <span class=\"token operator\">=</span> <span class=\"token keyword\">CASE</span> <span class=\"token keyword\">WHEN</span> DATEPART<span class=\"token punctuation\">(</span>WEEK<span class=\"token punctuation\">,</span> TheLastOfYear<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">53</span> <span class=\"token keyword\">THEN</span> <span class=\"token number\">1</span> <span class=\"token keyword\">ELSE</span> <span class=\"token number\">0</span> <span class=\"token keyword\">END</span>\n\t\t<span class=\"token punctuation\">,</span> Has53ISOWeeks       <span class=\"token operator\">=</span> <span class=\"token keyword\">CASE</span> <span class=\"token keyword\">WHEN</span> DATEPART<span class=\"token punctuation\">(</span>ISO_WEEK<span class=\"token punctuation\">,</span> TheLastOfYear<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">53</span> <span class=\"token keyword\">THEN</span> <span class=\"token number\">1</span> <span class=\"token keyword\">ELSE</span> <span class=\"token number\">0</span> <span class=\"token keyword\">END</span>\n\t\t<span class=\"token punctuation\">,</span> YYYYMM\t\t\t  <span class=\"token operator\">=</span> CONCAT<span class=\"token punctuation\">(</span>TheYear<span class=\"token punctuation\">,</span> <span class=\"token keyword\">CASE</span> <span class=\"token keyword\">WHEN</span> <span class=\"token function\">LEN</span><span class=\"token punctuation\">(</span>TheMonth<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token keyword\">THEN</span> CONCAT<span class=\"token punctuation\">(</span><span class=\"token string\">'0'</span><span class=\"token punctuation\">,</span> TheMonth<span class=\"token punctuation\">)</span> <span class=\"token keyword\">ELSE</span> TheMonth <span class=\"token keyword\">END</span><span class=\"token punctuation\">)</span> \n\t\t<span class=\"token punctuation\">,</span> MMYYYY              <span class=\"token operator\">=</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> TheDate<span class=\"token punctuation\">,</span> <span class=\"token number\">101</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> TheYear<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> Style101            <span class=\"token operator\">=</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> TheDate<span class=\"token punctuation\">,</span> <span class=\"token number\">101</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> Style103            <span class=\"token operator\">=</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> TheDate<span class=\"token punctuation\">,</span> <span class=\"token number\">103</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> Style112            <span class=\"token operator\">=</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  TheDate<span class=\"token punctuation\">,</span> <span class=\"token number\">112</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">,</span> Style120            <span class=\"token operator\">=</span> <span class=\"token keyword\">CONVERT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">CHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> TheDate<span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">FROM</span> src\n<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">-- CREATE THE DATE DIMENSION TABLE</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">INTO</span> dbo<span class=\"token punctuation\">.</span>DateDimension\n<span class=\"token keyword\">FROM</span> dim\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> TheDate\n<span class=\"token keyword\">OPTION</span> <span class=\"token punctuation\">(</span>MAXRECURSION <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">UNIQUE</span> <span class=\"token keyword\">CLUSTERED</span> <span class=\"token keyword\">INDEX</span> CIX_DateDimension <span class=\"token keyword\">ON</span> dbo<span class=\"token punctuation\">.</span>DateDimension<span class=\"token punctuation\">(</span>TheDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- CREATE THE HOLIDAY DIMENSION TABLE</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> dbo<span class=\"token punctuation\">.</span>HolidayDimension\n<span class=\"token punctuation\">(</span>\n\tTheDate <span class=\"token keyword\">DATE</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\tHolidayText NVARCHAR<span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token keyword\">CONSTRAINT</span> FK_DateDimension <span class=\"token keyword\">FOREIGN</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span>TheDate<span class=\"token punctuation\">)</span> <span class=\"token keyword\">REFERENCES</span> dbo<span class=\"token punctuation\">.</span>DateDimension<span class=\"token punctuation\">(</span>TheDate<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">CLUSTERED</span> <span class=\"token keyword\">INDEX</span> CIX_HolidayDimension <span class=\"token keyword\">ON</span> dbo<span class=\"token punctuation\">.</span>HolidayDimension<span class=\"token punctuation\">(</span>TheDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">;</span><span class=\"token keyword\">WITH</span> x <span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">SELECT</span>\n\t\t  TheDate\n\t\t<span class=\"token punctuation\">,</span> TheFirstOfYear\n\t\t<span class=\"token punctuation\">,</span> TheDayOfWeekInMonth\n\t\t<span class=\"token punctuation\">,</span> TheMonth\n\t\t<span class=\"token punctuation\">,</span> TheDayName\n\t\t<span class=\"token punctuation\">,</span> TheDay\n\t\t<span class=\"token punctuation\">,</span> TheLastDayOfWeekInMonth <span class=\"token operator\">=</span> ROW_NUMBER<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span>\n\t\t  <span class=\"token punctuation\">(</span>\n\t\t\t<span class=\"token keyword\">PARTITION</span> <span class=\"token keyword\">BY</span> TheFirstOfMonth<span class=\"token punctuation\">,</span> TheDayOfWeek\n\t\t\t<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> TheDate <span class=\"token keyword\">DESC</span>\n\t\t  <span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">FROM</span> dbo<span class=\"token punctuation\">.</span>DateDimension\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\ns <span class=\"token keyword\">AS</span>\n<span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">SELECT</span>\n\t\t  TheDate\n\t\t<span class=\"token punctuation\">,</span> HolidayText <span class=\"token operator\">=</span> <span class=\"token keyword\">CASE</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>TheDate <span class=\"token operator\">=</span> TheFirstOfYear<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token string\">'New Year''s Day'</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>TheDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token number\">3</span> <span class=\"token operator\">AND</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">AND</span> TheDayName <span class=\"token operator\">=</span> <span class=\"token string\">'Monday'</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token string\">'Martin Luther King Day'</span>\t\t<span class=\"token comment\">-- (3rd Monday in January)</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>TheDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token number\">3</span> <span class=\"token operator\">AND</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">AND</span> TheDayName <span class=\"token operator\">=</span> <span class=\"token string\">'Monday'</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token string\">'President''s Day'</span>\t\t\t\t<span class=\"token comment\">-- (3rd Monday in February)</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">3</span> <span class=\"token operator\">AND</span> TheDay <span class=\"token operator\">=</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token string\">'Cesar Chavez Day'</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>TheLastDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">AND</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">5</span> <span class=\"token operator\">AND</span> TheDayName <span class=\"token operator\">=</span> <span class=\"token string\">'Monday'</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token string\">'Memorial Day'</span>\t\t\t\t\t<span class=\"token comment\">-- (last Monday in May)</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">7</span> <span class=\"token operator\">AND</span> TheDay <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token string\">'Independence Day'</span>\t\t\t\t<span class=\"token comment\">-- (July 4th)</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>TheDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">AND</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">9</span> <span class=\"token operator\">AND</span> TheDayName <span class=\"token operator\">=</span> <span class=\"token string\">'Monday'</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token string\">'Labour Day'</span>\t\t\t\t\t<span class=\"token comment\">-- (first Monday in September)</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">11</span> <span class=\"token operator\">AND</span> TheDay <span class=\"token operator\">=</span> <span class=\"token number\">11</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token string\">'Veterans'' Day'</span>\t\t\t\t<span class=\"token comment\">-- (November 11th)</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>TheDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token number\">4</span> <span class=\"token operator\">AND</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">11</span> <span class=\"token operator\">AND</span> TheDayName <span class=\"token operator\">=</span> <span class=\"token string\">'Thursday'</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token string\">'Thanksgiving Day'</span>             <span class=\"token comment\">-- (Thanksgiving Day ()fourth Thursday in November)</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token punctuation\">(</span>TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">12</span> <span class=\"token operator\">AND</span> TheDay <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">THEN</span> <span class=\"token string\">'Christmas Day'</span>\n\t\t<span class=\"token keyword\">END</span>\n\t<span class=\"token keyword\">FROM</span> x\n\t<span class=\"token keyword\">WHERE</span> <span class=\"token punctuation\">(</span>TheDate <span class=\"token operator\">=</span> TheFirstOfYear<span class=\"token punctuation\">)</span>\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token comment\">-- New Years</span>\n\t\t<span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TheDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token number\">3</span>     <span class=\"token operator\">AND</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">1</span>  <span class=\"token operator\">AND</span> TheDayName <span class=\"token operator\">=</span> <span class=\"token string\">'Monday'</span><span class=\"token punctuation\">)</span>\t<span class=\"token comment\">-- MLK Day</span>\n\t\t<span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TheDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token number\">3</span>     <span class=\"token operator\">AND</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">2</span>  <span class=\"token operator\">AND</span> TheDayName <span class=\"token operator\">=</span> <span class=\"token string\">'Monday'</span><span class=\"token punctuation\">)</span>\t<span class=\"token comment\">-- Presidents Day</span>\n\t\t<span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\t\t\t\t<span class=\"token operator\">AND</span> TheDay <span class=\"token operator\">=</span> <span class=\"token number\">31</span><span class=\"token punctuation\">)</span>\t\t\t\t\t\t\t\t<span class=\"token comment\">-- Cesar Chavez Day</span>\n\t\t<span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TheLastDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token operator\">AND</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">5</span>  <span class=\"token operator\">AND</span> TheDayName <span class=\"token operator\">=</span> <span class=\"token string\">'Monday'</span><span class=\"token punctuation\">)</span>\t<span class=\"token comment\">-- Memorial Day</span>\n\t\t<span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">7</span>\t\t\t\t<span class=\"token operator\">AND</span> TheDay <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\t\t\t\t\t\t\t\t\t<span class=\"token comment\">-- Independence Day</span>\n\t\t<span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TheDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token number\">1</span>     <span class=\"token operator\">AND</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">9</span>  <span class=\"token operator\">AND</span> TheDayName <span class=\"token operator\">=</span> <span class=\"token string\">'Monday'</span><span class=\"token punctuation\">)</span>\t<span class=\"token comment\">-- Labor Day</span>\n\t\t<span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">11</span>\t\t\t\t<span class=\"token operator\">AND</span> TheDay <span class=\"token operator\">=</span> <span class=\"token number\">11</span><span class=\"token punctuation\">)</span>\t\t\t\t\t\t\t\t<span class=\"token comment\">-- Veterans Day</span>\n\t\t<span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TheDayOfWeekInMonth <span class=\"token operator\">=</span> <span class=\"token number\">4</span>     <span class=\"token operator\">AND</span> TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">11</span> <span class=\"token operator\">AND</span> TheDayName <span class=\"token operator\">=</span> <span class=\"token string\">'Thursday'</span><span class=\"token punctuation\">)</span>\t<span class=\"token comment\">-- Thanksgiving Day</span>\n\t\t<span class=\"token operator\">OR</span> <span class=\"token punctuation\">(</span>TheMonth <span class=\"token operator\">=</span> <span class=\"token number\">12</span>\t\t\t\t<span class=\"token operator\">AND</span> TheDay <span class=\"token operator\">=</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span>\t\t\t\t\t\t\t\t<span class=\"token comment\">-- Christmas Day</span>\n<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">INSERT</span> dbo<span class=\"token punctuation\">.</span>HolidayDimension<span class=\"token punctuation\">(</span>TheDate<span class=\"token punctuation\">,</span> HolidayText<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">SELECT</span> TheDate<span class=\"token punctuation\">,</span> HolidayText <span class=\"token keyword\">FROM</span> s\n<span class=\"token keyword\">UNION</span> <span class=\"token keyword\">ALL</span>\n<span class=\"token keyword\">SELECT</span> DATEADD<span class=\"token punctuation\">(</span><span class=\"token keyword\">DAY</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> TheDate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Black Friday'</span> <span class=\"token comment\">-- Special Case</span>\n<span class=\"token keyword\">FROM</span> s <span class=\"token keyword\">WHERE</span> HolidayText <span class=\"token operator\">=</span> <span class=\"token string\">'Thanksgiving Day'</span>\n<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> TheDate<span class=\"token punctuation\">;</span>\nGO\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">VIEW</span> dbo<span class=\"token punctuation\">.</span>TheCalendar\n<span class=\"token keyword\">AS</span>\n\t<span class=\"token keyword\">SELECT</span>\n\t\t  d<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span>\n\t\t<span class=\"token punctuation\">,</span> IsHoliday <span class=\"token operator\">=</span> <span class=\"token keyword\">CASE</span> <span class=\"token keyword\">WHEN</span> h<span class=\"token punctuation\">.</span>TheDate <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">THEN</span> <span class=\"token number\">1</span> <span class=\"token keyword\">ELSE</span> <span class=\"token number\">0</span> <span class=\"token keyword\">END</span>\n\t\t<span class=\"token punctuation\">,</span> h<span class=\"token punctuation\">.</span>HolidayText\n\t<span class=\"token keyword\">FROM</span> dbo<span class=\"token punctuation\">.</span>DateDimension <span class=\"token keyword\">AS</span> d\n\t\t<span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">OUTER</span> <span class=\"token keyword\">JOIN</span> dbo<span class=\"token punctuation\">.</span>HolidayDimension <span class=\"token keyword\">AS</span> h\n\t\t\t<span class=\"token keyword\">ON</span> d<span class=\"token punctuation\">.</span>TheDate <span class=\"token operator\">=</span> h<span class=\"token punctuation\">.</span>TheDate<span class=\"token punctuation\">;</span>\n</code></pre>","noteIndex":{"id":"root","title":"root","desc":"","updated":1641013093667,"created":1595961348801,"stub":false,"custom":{"stub":false,"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"DevLog"},"contentHash":"b0b26527a2962dbb8bd5fb9a53ad702f","links":[],"anchors":{},"children":["rzqe5mjn3q2zfscw1roxr20","Bl9NeJmftBQJyJA3X4a6u","inm1S24v2GcN3Quf7gzDb","fmx7cfcdzale0ezna61yq5z","q6tr8q7gahfijix2ktlhcu3","yah6spesmpstech2ue2k3lq","6pxwlugphnw6vm4t8kn0j5p","i17wi8y2hgivywe08h6q6it","1st35wikvph2aew8aana21u","mijr0wvj3qz0mt9pv9xo1jv","qaf8v120h0ffvbowysjxw50","sh4851li2rsrhx47wwsirgv","fwqjigvqyfxiyl3pbpjvgdw","pxdvvln974xhe8w0alh0hoy","n6yddb1smrac5ll3l1y6wbd","g5dllyqoqkenoiz3opalzu6","kbwt8ucy0yh6bo8fl0kv9iw","beykavbe22agsufmm03hu0c","2uvuqa3c15o5r4j7sqadqvr","yr6gzhx0bhzyec6f52y66vf","4no90tcdswtuwmjm0bxnetx"],"parent":null,"data":{},"body":"\nThe hyperfixated rabbit hole diving knowledge base that is my brain looking at technology.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"sterkere","visibility":"private"},{"fsPath":"Norsk","visibility":"private"},{"fsPath":"DevLog"}],"journal":{"dailyDomain":"log","name":"daily","dateFormat":"yyyy.MM.dd","addBehavior":"childOfCurrent"},"scratch":{"name":"scratch","dateFormat":"yyyy.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"todoIntegration":true,"name":"task","dateFormat":"yyyy.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"wip","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.95.1","enableFullHierarchyNoteTitle":false,"enableHandlebarTemplates":false,"templateHierarchy":"template","enableSmartRefs":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"theme":"custom","enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/DevLog","copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://{GITHUB_USERNAME}.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["DevLog"]},"writeStubs":false,"seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"master","editViewMode":"tree"},"enablePrettyLinks":true,"enableTaskNotes":true,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}