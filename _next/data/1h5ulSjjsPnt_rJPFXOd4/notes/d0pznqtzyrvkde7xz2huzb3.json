{"pageProps":{"note":{"id":"d0pznqtzyrvkde7xz2huzb3","title":"Setting up Alerts for All Sql Server Agent Jobs","desc":"","updated":1646344013098,"created":1646343932404,"custom":{},"fname":"s.q.tsql.sql-agent-jobs.setting-up-alerts-for-all-sql-server-agent-jobs","type":"note","vault":{"fsPath":"DevLog"},"contentHash":"f59d050c341cba179f6769d55a302129","links":[{"from":{"fname":"r.(.2022.03.03.setting-up-alerts-for-all-sql-server-agent-jobs","vaultName":"DevLog"},"type":"backlink","position":{"start":{"line":4,"column":1,"offset":97},"end":{"line":4,"column":77,"offset":173},"indent":[]},"value":"s.q.tsql.sql-agent-jobs.setting-up-alerts-for-all-sql-server-agent-jobs"}],"anchors":{},"children":[],"parent":"388rjjo13kyhrxzngba58fd","data":{}},"body":"<h1 id=\"setting-up-alerts-for-all-sql-server-agent-jobs\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#setting-up-alerts-for-all-sql-server-agent-jobs\"></a>Setting up Alerts for All Sql Server Agent Jobs</h1>\n<blockquote>\n<p>Here is a sample T-SQL script that will create the commands for you. This script actually outputs the commands that can then be copied and pasted into a query windows and executed to make the updates. The script could also be changed to automatically issue the commands, but with this version you have the ability to review the commands before you execute them.</p>\n<p>-- <a href=\"https://www.mssqltips.com/sqlservertip/1091/setting-up-alerts-for-all-sql-server-agent-jobs/\">https://www.mssqltips.com/sqlservertip/1091/setting-up-alerts-for-all-sql-server-agent-jobs/</a></p>\n</blockquote>\n<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">USE</span> msdb\nGO\n\n<span class=\"token keyword\">DECLARE</span> <span class=\"token variable\">@operator</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SET</span> <span class=\"token variable\">@operator</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SQLalerts'</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token string\">'EXEC msdb.dbo.sp_update_job @job_ID = '''</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">convert</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">50</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>job_id<span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">+</span> <span class=\"token string\">''' ,@notify_level_email = 2, @notify_email_operator_name = '''</span> <span class=\"token operator\">+</span> <span class=\"token variable\">@operator</span> <span class=\"token operator\">+</span> <span class=\"token string\">''''</span>\n<span class=\"token keyword\">FROM</span> sysjobs\n</code></pre>\n<p>When this gets run the following output is created:</p>\n<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">EXEC</span> msdb<span class=\"token punctuation\">.</span>dbo<span class=\"token punctuation\">.</span>sp_update_job <span class=\"token variable\">@job_ID</span> <span class=\"token operator\">=</span> <span class=\"token string\">'589D2B60-EDBD-45B5-BDE6-4DD974D20D25'</span> <span class=\"token punctuation\">,</span><span class=\"token variable\">@notify_level_email</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@notify_email_operator_name</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SQLalerts'</span>\n<span class=\"token keyword\">EXEC</span> msdb<span class=\"token punctuation\">.</span>dbo<span class=\"token punctuation\">.</span>sp_update_job <span class=\"token variable\">@job_ID</span> <span class=\"token operator\">=</span> <span class=\"token string\">'6BE4306C-CC37-4D38-BC27-1B099601EF6A'</span> <span class=\"token punctuation\">,</span><span class=\"token variable\">@notify_level_email</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@notify_email_operator_name</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SQLalerts'</span>\n<span class=\"token keyword\">EXEC</span> msdb<span class=\"token punctuation\">.</span>dbo<span class=\"token punctuation\">.</span>sp_update_job <span class=\"token variable\">@job_ID</span> <span class=\"token operator\">=</span> <span class=\"token string\">'F7569D9A-641E-4130-90F4-535F0B11FC1E'</span> <span class=\"token punctuation\">,</span><span class=\"token variable\">@notify_level_email</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@notify_email_operator_name</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SQLalerts'</span>\n<span class=\"token keyword\">EXEC</span> msdb<span class=\"token punctuation\">.</span>dbo<span class=\"token punctuation\">.</span>sp_update_job <span class=\"token variable\">@job_ID</span> <span class=\"token operator\">=</span> <span class=\"token string\">'CD012AF2-BC96-4D9E-A03E-6ABB2F6048AF'</span> <span class=\"token punctuation\">,</span><span class=\"token variable\">@notify_level_email</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@notify_email_operator_name</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SQLalerts'</span>\n<span class=\"token keyword\">EXEC</span> msdb<span class=\"token punctuation\">.</span>dbo<span class=\"token punctuation\">.</span>sp_update_job <span class=\"token variable\">@job_ID</span> <span class=\"token operator\">=</span> <span class=\"token string\">'451C94B4-8BA3-48AA-BB66-D184F0C25556'</span> <span class=\"token punctuation\">,</span><span class=\"token variable\">@notify_level_email</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@notify_email_operator_name</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SQLalerts'</span>\n<span class=\"token keyword\">EXEC</span> msdb<span class=\"token punctuation\">.</span>dbo<span class=\"token punctuation\">.</span>sp_update_job <span class=\"token variable\">@job_ID</span> <span class=\"token operator\">=</span> <span class=\"token string\">'7EA95731-1E19-40F6-A5E3-325647DACDE9'</span> <span class=\"token punctuation\">,</span><span class=\"token variable\">@notify_level_email</span> <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">@notify_email_operator_name</span> <span class=\"token operator\">=</span> <span class=\"token string\">'SQLalerts'</span>\n</code></pre>\n<p><img src=\"/DevLog/assets/images/2022-03-03-13-46-46.png\" alt=\"notify level\"></p>\n<hr>\n<strong>Backlinks</strong>\n<ul>\n<li><a href=\"/DevLog/notes/p2t1xc370rnru16m5dusug4\">Setting up Alerts for All Sql Server Agent Jobs (DevLog)</a></li>\n</ul>","noteIndex":{"id":"root","title":"root","desc":"","updated":1641013093667,"created":1595961348801,"stub":false,"custom":{"stub":false,"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"DevLog"},"contentHash":"b0b26527a2962dbb8bd5fb9a53ad702f","links":[],"anchors":{},"children":["rzqe5mjn3q2zfscw1roxr20","Bl9NeJmftBQJyJA3X4a6u","inm1S24v2GcN3Quf7gzDb","fmx7cfcdzale0ezna61yq5z","q6tr8q7gahfijix2ktlhcu3","yah6spesmpstech2ue2k3lq","6pxwlugphnw6vm4t8kn0j5p","i17wi8y2hgivywe08h6q6it","1st35wikvph2aew8aana21u","mijr0wvj3qz0mt9pv9xo1jv","qaf8v120h0ffvbowysjxw50","sh4851li2rsrhx47wwsirgv","fwqjigvqyfxiyl3pbpjvgdw","pxdvvln974xhe8w0alh0hoy","n6yddb1smrac5ll3l1y6wbd","g5dllyqoqkenoiz3opalzu6","kbwt8ucy0yh6bo8fl0kv9iw","beykavbe22agsufmm03hu0c","2uvuqa3c15o5r4j7sqadqvr","yr6gzhx0bhzyec6f52y66vf","4no90tcdswtuwmjm0bxnetx"],"parent":null,"data":{},"body":"\nThe hyperfixated rabbit hole diving knowledge base that is my brain looking at technology.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"sterkere","visibility":"private"},{"fsPath":"Norsk","visibility":"private"},{"fsPath":"DevLog"}],"journal":{"dailyDomain":"log","name":"daily","dateFormat":"yyyy.MM.dd","addBehavior":"childOfCurrent"},"scratch":{"name":"scratch","dateFormat":"yyyy.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"todoIntegration":true,"name":"task","dateFormat":"yyyy.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"wip","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.95.1","enableFullHierarchyNoteTitle":false,"enableHandlebarTemplates":false,"templateHierarchy":"template","enableSmartRefs":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"theme":"custom","enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/DevLog","copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://{GITHUB_USERNAME}.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["DevLog"]},"writeStubs":false,"seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"master","editViewMode":"tree"},"enablePrettyLinks":true,"enableTaskNotes":true,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}