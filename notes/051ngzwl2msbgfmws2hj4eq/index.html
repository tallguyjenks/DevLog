<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>3ad</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal knowledge space"/><meta property="og:title" content="3ad"/><meta property="og:description" content="Personal knowledge space"/><meta property="og:url" content="https://{GITHUB_USERNAME}.github.io/DevLog/notes/051ngzwl2msbgfmws2hj4eq/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="1/11/2022"/><meta property="article:modified_time" content="1/11/2022"/><link rel="canonical" href="https://{GITHUB_USERNAME}.github.io/DevLog/notes/051ngzwl2msbgfmws2hj4eq/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/DevLog/_next/static/css/477fdc912058141b.css" as="style"/><link rel="stylesheet" href="/DevLog/_next/static/css/477fdc912058141b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/DevLog/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/DevLog/_next/static/chunks/webpack-193abd745db5a977.js" defer=""></script><script src="/DevLog/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/DevLog/_next/static/chunks/main-e26c16bc784f9179.js" defer=""></script><script src="/DevLog/_next/static/chunks/pages/_app-fbacaa7678b5d585.js" defer=""></script><script src="/DevLog/_next/static/chunks/78-13ae6acd5ce7ca5b.js" defer=""></script><script src="/DevLog/_next/static/chunks/373-2f3879190a46a3d9.js" defer=""></script><script src="/DevLog/_next/static/chunks/pages/notes/%5Bid%5D-69449972c2a725d8.js" defer=""></script><script src="/DevLog/_next/static/1h5ulSjjsPnt_rJPFXOd4/_buildManifest.js" defer=""></script><script src="/DevLog/_next/static/1h5ulSjjsPnt_rJPFXOd4/_ssgManifest.js" defer=""></script><script src="/DevLog/_next/static/1h5ulSjjsPnt_rJPFXOd4/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="3ad"><a aria-hidden="true" class="anchor-heading icon-link" href="#3ad"></a>3ad</h1>
<p>Defines the Link Aggregation Control Protocol (LACP)</p>
<p></p><p></p><div class="portal-container">
<div class="portal-head">
<div class="portal-backlink">
<div class="portal-title">From <span class="portal-text-title">LACP</span></div>
<a href="/DevLog/notes/lgl3co3ibveuv4ejvn2yso6" class="portal-arrow">Go to text <span class="right-arrow">→</span></a>
</div>
</div>
<div id="portal-parent-anchor" class="portal-parent" markdown="1">
<div class="portal-parent-fader-top"></div>
<div class="portal-parent-fader-bottom"></div><h2 id="resources"><a aria-hidden="true" class="anchor-heading icon-link" href="#resources"></a>Resources</h2>
<ul>
<li><a href="https://docs.rackspace.com/blog/lacp-bonding-and-linux-configuration/">https://docs.rackspace.com/blog/lacp-bonding-and-linux-configuration/</a></li>
</ul>
<p>Link Aggregation Control Protocol (LACP) <a href="/DevLog/notes/051ngzwl2msbgfmws2hj4eq">3ad</a></p>
<p>Used to detect configuration errors and recover from the failure of one of the physical links.</p>
<h2 id="modes"><a aria-hidden="true" class="anchor-heading icon-link" href="#modes"></a>Modes</h2>
<ul>
<li><code>Mode 0 (balance-rr):</code>
This mode is also known as round-robin mode.
Packets are sequentially transmitted and received through each interface one by one.
This mode provides load balancing functionality.</li>
<li><code>Mode 1 (active-backup):</code>
This mode has only one interface set to active, while all other interfaces are in the backup state.
If the active interface fails, a backup interface replaces it as the only active interface in the bond.
The media access control (MAC) address of the bond interface in <code>mode 1</code> is visible on only one port (the network adapter), which prevents confusion for the switch.
<code>Mode 1</code> provides fault tolerance.</li>
<li><code>Mode 2 (balance-xor):</code>
The source MAC address uses exclusive or (XOR) logic with the destination MAC address.
This calculation ensures that the same slave interface is selected for each destination MAC address.
<code>Mode 2</code> provides fault tolerance and load balancing.</li>
<li><code>Mode 3 (broadcast):</code>
All transmissions are sent to all the slaves.
This mode provides fault tolerance.</li>
<li><code>Mode 4 (802.3ad):</code>
This mode creates aggregation groups that share the same speed and duplex settings, and it requires a switch that supports an IEEE <a href="/DevLog/notes/051ngzwl2msbgfmws2hj4eq">802.3ad</a> dynamic link.
<code>Mode 4</code> uses all interfaces in the active aggregation group.
For example, you can aggregate three 1 GB per second (GBPS) ports into a 3 GBPS trunk port.
This is equivalent to having one interface with 3 GBPS speed.
It provides fault tolerance and load balancing.</li>
<li><code>Mode 5 (balance-tlb):</code>
This mode ensures that the outgoing traffic distribution is set according to the load on each interface and that the current interface receives all the incoming traffic.
If the assigned interface fails to receive traffic, another interface is assigned to the receiving role.
It provides fault tolerance and load balancing.</li>
<li><code>Mode 6 (balance-alb):</code>
This mode is supported only in x86 environments.
The receiving packets are load balanced through Address Resolution Protocol (ARP) negotiation.
This mode provides fault tolerance and load balancing.</li>
</ul>
<p><img src="/DevLog/assets/images/2022-02-20-11-46-53.png" alt="link aggregation"></p>
</div></div><p></p><p></p>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/DevLog/notes/lgl3co3ibveuv4ejvn2yso6">LACP (DevLog)</a></li>
<li><a href="/DevLog/notes/f6wx02gwrpmg9job7qwdbjt">2022-01-10 (DevLog)</a></li>
<li><a href="/DevLog/notes/ghqfq24dh7bjkpabdqvstm6">Configuration (DevLog)</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"051ngzwl2msbgfmws2hj4eq","title":"3ad","desc":"","updated":1641871131503,"created":1641871007009,"custom":{},"fname":"n.ieee-802.3ad","type":"note","vault":{"fsPath":"DevLog"},"contentHash":"f154c9f7998d0e1ef90c637f639ad7c5","links":[{"type":"ref","from":{"fname":"n.ieee-802.3ad","id":"051ngzwl2msbgfmws2hj4eq","vaultName":"DevLog"},"value":"n.protocol.lacp","position":{"start":{"line":5,"column":1,"offset":56},"end":{"line":5,"column":21,"offset":76},"indent":[]},"xvault":false,"to":{"fname":"n.protocol.lacp"}},{"from":{"fname":"n.protocol.lacp","vaultName":"DevLog"},"type":"backlink","position":{"start":{"line":7,"column":42,"offset":132},"end":{"line":7,"column":60,"offset":150},"indent":[]},"value":"n.ieee-802.3ad","alias":"n.ieee-802.3ad"},{"from":{"fname":"n.protocol.lacp","vaultName":"DevLog"},"type":"backlink","position":{"start":{"line":30,"column":132,"offset":1421},"end":{"line":30,"column":158,"offset":1447},"indent":[]},"value":"n.ieee-802.3ad","alias":"802.3ad"},{"from":{"fname":"log.daily.2022.01.10","vaultName":"DevLog"},"type":"backlink","position":{"start":{"line":16,"column":1,"offset":81},"end":{"line":16,"column":19,"offset":99},"indent":[]},"value":"n.ieee-802.3ad","alias":"n.ieee-802.3ad"},{"from":{"fname":"p.doing.homelab.services.proxmox.configuration","vaultName":"DevLog"},"type":"backlink","position":{"start":{"line":50,"column":11,"offset":1603},"end":{"line":50,"column":29,"offset":1621},"indent":[]},"value":"n.ieee-802.3ad","alias":"n.ieee-802.3ad"}],"anchors":{},"children":[],"parent":"8zskipwrixp7zjx9t6c1vd1","data":{}},"body":"\u003ch1 id=\"3ad\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#3ad\"\u003e\u003c/a\u003e3ad\u003c/h1\u003e\n\u003cp\u003eDefines the Link Aggregation Control Protocol (LACP)\u003c/p\u003e\n\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\u003cdiv class=\"portal-container\"\u003e\n\u003cdiv class=\"portal-head\"\u003e\n\u003cdiv class=\"portal-backlink\"\u003e\n\u003cdiv class=\"portal-title\"\u003eFrom \u003cspan class=\"portal-text-title\"\u003eLACP\u003c/span\u003e\u003c/div\u003e\n\u003ca href=\"/DevLog/notes/lgl3co3ibveuv4ejvn2yso6\" class=\"portal-arrow\"\u003eGo to text \u003cspan class=\"right-arrow\"\u003e→\u003c/span\u003e\u003c/a\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv id=\"portal-parent-anchor\" class=\"portal-parent\" markdown=\"1\"\u003e\n\u003cdiv class=\"portal-parent-fader-top\"\u003e\u003c/div\u003e\n\u003cdiv class=\"portal-parent-fader-bottom\"\u003e\u003c/div\u003e\u003ch2 id=\"resources\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#resources\"\u003e\u003c/a\u003eResources\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docs.rackspace.com/blog/lacp-bonding-and-linux-configuration/\"\u003ehttps://docs.rackspace.com/blog/lacp-bonding-and-linux-configuration/\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eLink Aggregation Control Protocol (LACP) \u003ca href=\"/DevLog/notes/051ngzwl2msbgfmws2hj4eq\"\u003e3ad\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eUsed to detect configuration errors and recover from the failure of one of the physical links.\u003c/p\u003e\n\u003ch2 id=\"modes\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#modes\"\u003e\u003c/a\u003eModes\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eMode 0 (balance-rr):\u003c/code\u003e\nThis mode is also known as round-robin mode.\nPackets are sequentially transmitted and received through each interface one by one.\nThis mode provides load balancing functionality.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eMode 1 (active-backup):\u003c/code\u003e\nThis mode has only one interface set to active, while all other interfaces are in the backup state.\nIf the active interface fails, a backup interface replaces it as the only active interface in the bond.\nThe media access control (MAC) address of the bond interface in \u003ccode\u003emode 1\u003c/code\u003e is visible on only one port (the network adapter), which prevents confusion for the switch.\n\u003ccode\u003eMode 1\u003c/code\u003e provides fault tolerance.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eMode 2 (balance-xor):\u003c/code\u003e\nThe source MAC address uses exclusive or (XOR) logic with the destination MAC address.\nThis calculation ensures that the same slave interface is selected for each destination MAC address.\n\u003ccode\u003eMode 2\u003c/code\u003e provides fault tolerance and load balancing.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eMode 3 (broadcast):\u003c/code\u003e\nAll transmissions are sent to all the slaves.\nThis mode provides fault tolerance.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eMode 4 (802.3ad):\u003c/code\u003e\nThis mode creates aggregation groups that share the same speed and duplex settings, and it requires a switch that supports an IEEE \u003ca href=\"/DevLog/notes/051ngzwl2msbgfmws2hj4eq\"\u003e802.3ad\u003c/a\u003e dynamic link.\n\u003ccode\u003eMode 4\u003c/code\u003e uses all interfaces in the active aggregation group.\nFor example, you can aggregate three 1 GB per second (GBPS) ports into a 3 GBPS trunk port.\nThis is equivalent to having one interface with 3 GBPS speed.\nIt provides fault tolerance and load balancing.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eMode 5 (balance-tlb):\u003c/code\u003e\nThis mode ensures that the outgoing traffic distribution is set according to the load on each interface and that the current interface receives all the incoming traffic.\nIf the assigned interface fails to receive traffic, another interface is assigned to the receiving role.\nIt provides fault tolerance and load balancing.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eMode 6 (balance-alb):\u003c/code\u003e\nThis mode is supported only in x86 environments.\nThe receiving packets are load balanced through Address Resolution Protocol (ARP) negotiation.\nThis mode provides fault tolerance and load balancing.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"/DevLog/assets/images/2022-02-20-11-46-53.png\" alt=\"link aggregation\"\u003e\u003c/p\u003e\n\u003c/div\u003e\u003c/div\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/DevLog/notes/lgl3co3ibveuv4ejvn2yso6\"\u003eLACP (DevLog)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/DevLog/notes/f6wx02gwrpmg9job7qwdbjt\"\u003e2022-01-10 (DevLog)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/DevLog/notes/ghqfq24dh7bjkpabdqvstm6\"\u003eConfiguration (DevLog)\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"root","title":"root","desc":"","updated":1641013093667,"created":1595961348801,"stub":false,"custom":{"stub":false,"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"DevLog"},"contentHash":"b0b26527a2962dbb8bd5fb9a53ad702f","links":[],"anchors":{},"children":["rzqe5mjn3q2zfscw1roxr20","Bl9NeJmftBQJyJA3X4a6u","inm1S24v2GcN3Quf7gzDb","fmx7cfcdzale0ezna61yq5z","q6tr8q7gahfijix2ktlhcu3","yah6spesmpstech2ue2k3lq","6pxwlugphnw6vm4t8kn0j5p","i17wi8y2hgivywe08h6q6it","1st35wikvph2aew8aana21u","mijr0wvj3qz0mt9pv9xo1jv","qaf8v120h0ffvbowysjxw50","sh4851li2rsrhx47wwsirgv","fwqjigvqyfxiyl3pbpjvgdw","pxdvvln974xhe8w0alh0hoy","n6yddb1smrac5ll3l1y6wbd","g5dllyqoqkenoiz3opalzu6","kbwt8ucy0yh6bo8fl0kv9iw","beykavbe22agsufmm03hu0c","2uvuqa3c15o5r4j7sqadqvr","yr6gzhx0bhzyec6f52y66vf","4no90tcdswtuwmjm0bxnetx"],"parent":null,"data":{},"body":"\nThe hyperfixated rabbit hole diving knowledge base that is my brain looking at technology.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"sterkere","visibility":"private"},{"fsPath":"Norsk","visibility":"private"},{"fsPath":"DevLog"}],"journal":{"dailyDomain":"log","name":"daily","dateFormat":"yyyy.MM.dd","addBehavior":"childOfCurrent"},"scratch":{"name":"scratch","dateFormat":"yyyy.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"todoIntegration":true,"name":"task","dateFormat":"yyyy.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"wip","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.95.1","enableFullHierarchyNoteTitle":false,"enableHandlebarTemplates":false,"templateHierarchy":"template","enableSmartRefs":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"theme":"custom","enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/DevLog","copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://{GITHUB_USERNAME}.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["DevLog"]},"writeStubs":false,"seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"master","editViewMode":"tree"},"enablePrettyLinks":true,"enableTaskNotes":true,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"051ngzwl2msbgfmws2hj4eq"},"buildId":"1h5ulSjjsPnt_rJPFXOd4","assetPrefix":"/DevLog","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>